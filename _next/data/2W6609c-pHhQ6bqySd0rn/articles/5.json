{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/r7kamura/diary/issues/5/comments","created_at":"2022-05-11T21:15:35Z","events_url":"https://api.github.com/repos/r7kamura/diary/issues/5/events","html_url":"https://github.com/r7kamura/diary/issues/5","id":1233192781,"labels":[],"labels_url":"https://api.github.com/repos/r7kamura/diary/issues/5/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHTcevs5JgQdN","number":5,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/5/reactions"},"repository_url":"https://api.github.com/repos/r7kamura/diary","state":"open","timeline_url":"https://api.github.com/repos/r7kamura/diary/issues/5/timeline","title":"2022-05-12","updated_at":"2022-05-11T21:15:35Z","url":"https://api.github.com/repos/r7kamura/diary/issues/5","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},"issueComments":[{"body":"調べたら、うちのマイクアームが3/8オスのネジ、ウェブカメラのマウントパーツが1/4メスのネジ穴を持っているようだった。そこで、1/4オスと3/8メスを持つ変換パーツをAmazonで注文した。\r\n\r\n- https://www.amazon.co.jp/dp/B08XPZWR24","bodyHTML":"<p>調べたら、うちのマイクアームが3/8オスのネジ、ウェブカメラのマウントパーツが1/4メスのネジ穴を持っているようだった。そこで、1/4オスと3/8メスを持つ変換パーツをAmazonで注文した。</p>\n<ul>\n<li><a href=\"https://www.amazon.co.jp/dp/B08XPZWR24\">https://www.amazon.co.jp/dp/B08XPZWR24</a></li>\n</ul>","author_association":"OWNER","created_at":"2022-05-11T21:17:35Z","html_url":"https://github.com/r7kamura/diary/issues/5#issuecomment-1124303773","id":1124303773,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/5","node_id":"IC_kwDOHTcevs5DA4Od","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124303773/reactions"},"updated_at":"2022-05-11T21:17:35Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124303773","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"Gemfile.lockの差分をJSONで表示するライブラリと、それを利用して差分が無いことを検知するGitHub Actionsが欲しい。","bodyHTML":"<p>Gemfile.lockの差分をJSONで表示するライブラリと、それを利用して差分が無いことを検知するGitHub Actionsが欲しい。</p>","author_association":"OWNER","created_at":"2022-05-11T21:22:58Z","html_url":"https://github.com/r7kamura/diary/issues/5#issuecomment-1124307700","id":1124307700,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/5","node_id":"IC_kwDOHTcevs5DA5L0","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124307700/reactions"},"updated_at":"2022-05-11T21:22:58Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124307700","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"こんな感じで、いま現在そのGemfile.lockで指定されているGemについて、バージョンと名前をまとめたやつをJSONとして出力してくれるやつをとりあえず用意すれば良いかな。\r\n\r\n```ruby\r\nrequire 'bundler'\r\nrequire 'json'\r\n\r\ncontent = File.read('Gemfile.lock')\r\nparser = Bundler::LockfileParser.new(content)\r\narray = parser.specs.map do |specification|\r\n  {\r\n    name: specification.name,\r\n    version: specification.version\r\n  }\r\nend\r\nputs JSON.pretty_generate(array)\r\n```\r\n\r\nこういう感じになる\r\n\r\n```json\r\n[\r\n  {\r\n    \"name\": \"zache\",\r\n    \"version\": \"0.12.0\"\r\n  },\r\n  {\r\n    \"name\": \"zeitwerk\",\r\n    \"version\": \"2.5.3\"\r\n  },\r\n  {\r\n    \"name\": \"zip_tricks\",\r\n    \"version\": \"5.6.0\"\r\n  }\r\n]\r\n```\r\n\r\n---\r\n\r\n```ruby\r\nrequire 'bundler'\r\nrequire 'json'\r\n\r\ncontent = File.read('Gemfile.lock')\r\nparser = Bundler::LockfileParser.new(content)\r\nresult = parser.specs.each_with_object({}) do |specification, hash|\r\n  hash[specification.name] = specification.version\r\nend\r\nputs JSON.pretty_generate(result)\r\n```\r\n\r\n```json\r\n{\r\n  \"zache\": \"0.12.0\",\r\n  \"zeitwerk\": \"2.5.3\",\r\n  \"zip_tricks\": \"5.6.0\"\r\n}\r\n```\r\n\r\nObject形式にまとめた方がいいか。","bodyHTML":"<p>こんな感じで、いま現在そのGemfile.lockで指定されているGemについて、バージョンと名前をまとめたやつをJSONとして出力してくれるやつをとりあえず用意すれば良いかな。</p>\n<pre><code class=\"language-ruby\">require 'bundler'\r\nrequire 'json'\r\n\r\ncontent = File.read('Gemfile.lock')\r\nparser = Bundler::LockfileParser.new(content)\r\narray = parser.specs.map do |specification|\r\n  {\r\n    name: specification.name,\r\n    version: specification.version\r\n  }\r\nend\r\nputs JSON.pretty_generate(array)\n</code></pre>\n<p>こういう感じになる</p>\n<pre><code class=\"language-json\">[\r\n  {\r\n    \"name\": \"zache\",\r\n    \"version\": \"0.12.0\"\r\n  },\r\n  {\r\n    \"name\": \"zeitwerk\",\r\n    \"version\": \"2.5.3\"\r\n  },\r\n  {\r\n    \"name\": \"zip_tricks\",\r\n    \"version\": \"5.6.0\"\r\n  }\r\n]\n</code></pre>\n<hr>\n<pre><code class=\"language-ruby\">require 'bundler'\r\nrequire 'json'\r\n\r\ncontent = File.read('Gemfile.lock')\r\nparser = Bundler::LockfileParser.new(content)\r\nresult = parser.specs.each_with_object({}) do |specification, hash|\r\n  hash[specification.name] = specification.version\r\nend\r\nputs JSON.pretty_generate(result)\n</code></pre>\n<pre><code class=\"language-json\">{\r\n  \"zache\": \"0.12.0\",\r\n  \"zeitwerk\": \"2.5.3\",\r\n  \"zip_tricks\": \"5.6.0\"\r\n}\n</code></pre>\n<p>Object形式にまとめた方がいいか。</p>","author_association":"OWNER","created_at":"2022-05-11T21:37:52Z","html_url":"https://github.com/r7kamura/diary/issues/5#issuecomment-1124318137","id":1124318137,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/5","node_id":"IC_kwDOHTcevs5DA7u5","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124318137/reactions"},"updated_at":"2022-05-11T21:43:16Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124318137","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"GitHub Actionsのcustom actionのinputsに、allow_listのような `Array<String>` を渡したいが、これは `String` しか受け付けていない。\r\n\r\n- https://docs.github.com/en//actions/creating-actions/metadata-syntax-for-github-actions\r\n\r\nYAMLのヒアドキュメント記法は指示子を指定しなければスペース区切りにできたはずなので、スペース区切りで指定するという制約でいこうかな。\r\n\r\n```\r\nirb(main):067:0\" YAML.load <<-EOS\r\nirb(main):068:0\" foo:\r\nirb(main):069:0\"   bar\r\nirb(main):070:0\"   baz\r\nirb(main):071:0> EOS\r\n=> {\"foo\"=>\"bar baz\"}\r\n```","bodyHTML":"<p>GitHub Actionsのcustom actionのinputsに、allow_listのような <code>Array&#x3C;String></code> を渡したいが、これは <code>String</code> しか受け付けていない。</p>\n<ul>\n<li><a href=\"https://docs.github.com/en//actions/creating-actions/metadata-syntax-for-github-actions\">https://docs.github.com/en//actions/creating-actions/metadata-syntax-for-github-actions</a></li>\n</ul>\n<p>YAMLのヒアドキュメント記法は指示子を指定しなければスペース区切りにできたはずなので、スペース区切りで指定するという制約でいこうかな。</p>\n<pre><code>irb(main):067:0\" YAML.load &#x3C;&#x3C;-EOS\r\nirb(main):068:0\" foo:\r\nirb(main):069:0\"   bar\r\nirb(main):070:0\"   baz\r\nirb(main):071:0> EOS\r\n=> {\"foo\"=>\"bar baz\"}\n</code></pre>","author_association":"OWNER","created_at":"2022-05-11T21:50:42Z","html_url":"https://github.com/r7kamura/diary/issues/5#issuecomment-1124326669","id":1124326669,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/5","node_id":"IC_kwDOHTcevs5DA90N","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124326669/reactions"},"updated_at":"2022-05-11T21:50:42Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124326669","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"Rubyでカラー表示するの、diffy gemが楽そうだったのでこれ使おうかな。\r\n\r\nhttps://github.com/samg/diffy\r\n\r\n```\r\n$ irb -rdiffy\r\nirb(main):002:0\" a = <<EOS\r\nirb(main):003:0\" 1\r\nirb(main):004:0\" 2\r\nirb(main):005:0\" 3\r\nirb(main):006:0> EOS\r\n=> \"1\\n2\\n3\\n\"\r\nirb(main):007:0\" b = <<EOS\r\nirb(main):008:0\" 2\r\nirb(main):009:0\" 2\r\nirb(main):010:0\" 4\r\nirb(main):011:0> EOS\r\n=> \"2\\n2\\n4\\n\"\r\nirb(main):012:0> puts Diffy::Diff.new(a, b)\r\n-1\r\n 2                                                           \r\n-3                                                           \r\n+2                                                           \r\n+4                                                           \r\n=> nil                                                       \r\nirb(main):014:0> puts Diffy::Diff.new(a, b).to_s(:color)\r\n-1\r\n 2                                                                                                    \r\n-3                                                                                                    \r\n+2                                                                                                    \r\n+4                                                                                                    \r\n=> nil\r\n```\r\n\r\ndiff-lcsという老舗のやつも調べたけど面倒になってきた。\r\n\r\n- https://github.com/halostatue/diff-lcs","bodyHTML":"<p>Rubyでカラー表示するの、diffy gemが楽そうだったのでこれ使おうかな。</p>\n<p><a href=\"https://github.com/samg/diffy\">https://github.com/samg/diffy</a></p>\n<pre><code>$ irb -rdiffy\r\nirb(main):002:0\" a = &#x3C;&#x3C;EOS\r\nirb(main):003:0\" 1\r\nirb(main):004:0\" 2\r\nirb(main):005:0\" 3\r\nirb(main):006:0> EOS\r\n=> \"1\\n2\\n3\\n\"\r\nirb(main):007:0\" b = &#x3C;&#x3C;EOS\r\nirb(main):008:0\" 2\r\nirb(main):009:0\" 2\r\nirb(main):010:0\" 4\r\nirb(main):011:0> EOS\r\n=> \"2\\n2\\n4\\n\"\r\nirb(main):012:0> puts Diffy::Diff.new(a, b)\r\n-1\r\n 2                                                           \r\n-3                                                           \r\n+2                                                           \r\n+4                                                           \r\n=> nil                                                       \r\nirb(main):014:0> puts Diffy::Diff.new(a, b).to_s(:color)\r\n-1\r\n 2                                                                                                    \r\n-3                                                                                                    \r\n+2                                                                                                    \r\n+4                                                                                                    \r\n=> nil\n</code></pre>\n<p>diff-lcsという老舗のやつも調べたけど面倒になってきた。</p>\n<ul>\n<li><a href=\"https://github.com/halostatue/diff-lcs\">https://github.com/halostatue/diff-lcs</a></li>\n</ul>","author_association":"OWNER","created_at":"2022-05-11T22:03:43Z","html_url":"https://github.com/r7kamura/diary/issues/5#issuecomment-1124336789","id":1124336789,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/5","node_id":"IC_kwDOHTcevs5DBASV","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124336789/reactions"},"updated_at":"2022-05-11T22:04:41Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1124336789","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}}]},"__N_SSG":true}