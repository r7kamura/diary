<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="alternate" type="application/rss+xml" href="/diary/feed.xml"/><title>2022-05-27</title><meta name="next-head-count" content="4"/><link rel="preload" href="/diary/_next/static/css/53c86b12cba2fce5.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/53c86b12cba2fce5.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/diary/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/diary/_next/static/chunks/webpack-744535720990f482.js" defer=""></script><script src="/diary/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/diary/_next/static/chunks/main-a03413948affdc5e.js" defer=""></script><script src="/diary/_next/static/chunks/pages/_app-52d68962ce2ec0d8.js" defer=""></script><script src="/diary/_next/static/chunks/pages/articles/%5BissueNumber%5D-8b81430280370301.js" defer=""></script><script src="/diary/_next/static/IITYW_zr77D1tsDE8bxw7/_buildManifest.js" defer=""></script><script src="/diary/_next/static/IITYW_zr77D1tsDE8bxw7/_ssgManifest.js" defer=""></script><script src="/diary/_next/static/IITYW_zr77D1tsDE8bxw7/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><header><nav><p><a href="/diary">r7kamura/diary</a></p></nav></header><main><article><section><header><h1>2022-05-27</h1></header><aside><p>Posted by <!-- --><a href="https://github.com/r7kamura">r7kamura</a> at <!-- --><a href="https://github.com/r7kamura/diary/issues/21">#21</a>.<!-- --></p></aside><div></div></section><article><section><div><p>今日の俗世:</p>
<ul>
<li>ゲーミング箸</li>
<li>壱百満天原サロメ</li>
</ul></div></section></article><article><section><div><p><a href="https://www.youtube.com/watch?v=za9xTbJUzPQ&#x26;ab_channel=r7kamura">作業 with r7kamura #27 - YouTube</a></p></div></section></article><article><section><div><p>他の人が映している自分のYouTubeの映像の写真を見てみると、自分でプレビューで見るよりかなり高画質で、プレビューとの乖離があることが分かる。</p></div></section></article><article><section><div><p>作業配信環境に幾らかアップデートがあるたびに、作業配信環境をまとめる記事を新たに書こうとするが、少し書くたびに「そんなに需要無いな」と思ってゴミ箱に捨てている。</p></div></section></article><article><section><div><p>rubocop-todo-correctorでPull Requestをつくったときに、pull_request event契機の他のworkflowも実行されてほしいが、デフォルトのGITHUB_TOKENを使っていると実行されない。</p>
<p>これは<a href="https://docs.github.com/en//actions/security-guides/automatic-token-authentication">Automatic token authentication - GitHub Docs</a>で説明されている。</p>
<blockquote>
<p>When you use the repository's GITHUB_TOKEN to perform tasks, events triggered by the GITHUB_TOKEN will not create a new workflow run. This prevents you from accidentally creating recursive workflow runs. For example, if a workflow run pushes code using the repository's GITHUB_TOKEN, a new workflow will not run even when the repository contains a workflow configured to run when push events occur.</p>
</blockquote>
<p>GitHub Appで組織ごとにaccess tokenを発行すると良さそうな雰囲気があるので、これが使えるか試してみたい。</p></div></section></article><article><section><div><p>rubocop 1.30で、auto-correctがautocorrectに統一されたらしい。これにより、色々なものが壊れるようになった。驚いたのが、auto-correctの方を正規形とするのかと思いきや、autocorrectの方を正規形とするみたいだ。automobileみたいなものかね。</p>
<ul>
<li><a href="https://github.com/rubocop/rubocop/pull/10547">[Fix #10095] Change "auto-correct" to "autocorrect" by chris-hewitt · Pull Request #10547 · rubocop/rubocop</a></li>
</ul></div></section></article><article><section><div><p>懸垂マシンの配送状況が気になって調べたところ、昨日の昼時点で関西に居たらしい。</p></div></section></article><article><section><div><ol>
<li>r7kamura名義でGitHub App Aをつくる</li>
<li>r7kamura/x にAをインストールする (実際の操作としては、Aをr7kamuraにインストールするときにxのみを選択)</li>
<li>r7kamura/x で <a href="https://github.com/tibdex/github-app-token">https://github.com/tibdex/github-app-token</a> を利用してアクセストークンを発行する</li>
</ol>
<p>という実験が成功。</p></div></section></article><article><section><div><p>rubocop-todo-corrector custom actionで利用するアクセストークンについて、actions/checkoutではデフォルトのもの (github.token) を使い、gh pr createのときだけもしwithで指定されていたらそのアクセストークン、無ければデフォルトのアクセストークンを使う、というように変更すれば良いように思った。</p>
<p>つまり、アプリで発行するアクセストークンの権限について、</p>
<ul>
<li>pull requestのwrite</li>
<li>workflowのwrite</li>
</ul>
<p>のscopeだけあれば良くて、</p>
<ul>
<li>contentのwrite</li>
</ul>
<p>は不要そう?</p></div></section></article><article><section><div><pre><code class="language-yaml">- run: echo "${{ inputs.access_token || github.token }}" | gh auth login --with-token
```

こんな感じ
</code></pre></div></section></article></article></main><footer><nav><ul><li><a href="/diary">Home</a></li><li><a href="/diary/feed.xml">RSS</a></li><li><a href="https://github.com/r7kamura/diary">Code</a></li></ul></nav></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/r7kamura/diary/issues/21/comments","created_at":"2022-05-26T20:17:37Z","events_url":"https://api.github.com/repos/r7kamura/diary/issues/21/events","html_url":"https://github.com/r7kamura/diary/issues/21","id":1250013657,"labels":[],"labels_url":"https://api.github.com/repos/r7kamura/diary/issues/21/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHTcevs5KgbHZ","number":21,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/21/reactions"},"repository_url":"https://api.github.com/repos/r7kamura/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/r7kamura/diary/issues/21/timeline","title":"2022-05-27","updated_at":"2022-05-26T20:17:37Z","url":"https://api.github.com/repos/r7kamura/diary/issues/21","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},"issueComments":[{"body":"今日の俗世:\r\n\r\n- ゲーミング箸\r\n- 壱百満天原サロメ","bodyHTML":"\u003cp\u003e今日の俗世:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eゲーミング箸\u003c/li\u003e\n\u003cli\u003e壱百満天原サロメ\u003c/li\u003e\n\u003c/ul\u003e","author_association":"OWNER","created_at":"2022-05-26T20:29:17Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1138999812","id":1138999812,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D48IE","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1138999812/reactions"},"updated_at":"2022-05-26T20:29:17Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1138999812","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"[作業 with r7kamura #27 - YouTube](https://www.youtube.com/watch?v=za9xTbJUzPQ\u0026ab_channel=r7kamura)","bodyHTML":"\u003cp\u003e\u003ca href=\"https://www.youtube.com/watch?v=za9xTbJUzPQ\u0026#x26;ab_channel=r7kamura\"\u003e作業 with r7kamura #27 - YouTube\u003c/a\u003e\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-26T20:29:38Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1139000326","id":1139000326,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D48QG","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139000326/reactions"},"updated_at":"2022-05-26T20:29:38Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139000326","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"他の人が映している自分のYouTubeの映像の写真を見てみると、自分でプレビューで見るよりかなり高画質で、プレビューとの乖離があることが分かる。","bodyHTML":"\u003cp\u003e他の人が映している自分のYouTubeの映像の写真を見てみると、自分でプレビューで見るよりかなり高画質で、プレビューとの乖離があることが分かる。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-26T20:39:20Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1139014119","id":1139014119,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D4_nn","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139014119/reactions"},"updated_at":"2022-05-26T20:39:20Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139014119","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"作業配信環境に幾らかアップデートがあるたびに、作業配信環境をまとめる記事を新たに書こうとするが、少し書くたびに「そんなに需要無いな」と思ってゴミ箱に捨てている。","bodyHTML":"\u003cp\u003e作業配信環境に幾らかアップデートがあるたびに、作業配信環境をまとめる記事を新たに書こうとするが、少し書くたびに「そんなに需要無いな」と思ってゴミ箱に捨てている。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-26T20:40:10Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1139015253","id":1139015253,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D4_5V","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139015253/reactions"},"updated_at":"2022-05-26T20:40:10Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139015253","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"rubocop-todo-correctorでPull Requestをつくったときに、pull_request event契機の他のworkflowも実行されてほしいが、デフォルトのGITHUB_TOKENを使っていると実行されない。\r\n\r\nこれは[Automatic token authentication - GitHub Docs](https://docs.github.com/en//actions/security-guides/automatic-token-authentication)で説明されている。\r\n\r\n\u003e When you use the repository's GITHUB_TOKEN to perform tasks, events triggered by the GITHUB_TOKEN will not create a new workflow run. This prevents you from accidentally creating recursive workflow runs. For example, if a workflow run pushes code using the repository's GITHUB_TOKEN, a new workflow will not run even when the repository contains a workflow configured to run when push events occur.\r\n\r\nGitHub Appで組織ごとにaccess tokenを発行すると良さそうな雰囲気があるので、これが使えるか試してみたい。","bodyHTML":"\u003cp\u003erubocop-todo-correctorでPull Requestをつくったときに、pull_request event契機の他のworkflowも実行されてほしいが、デフォルトのGITHUB_TOKENを使っていると実行されない。\u003c/p\u003e\n\u003cp\u003eこれは\u003ca href=\"https://docs.github.com/en//actions/security-guides/automatic-token-authentication\"\u003eAutomatic token authentication - GitHub Docs\u003c/a\u003eで説明されている。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWhen you use the repository's GITHUB_TOKEN to perform tasks, events triggered by the GITHUB_TOKEN will not create a new workflow run. This prevents you from accidentally creating recursive workflow runs. For example, if a workflow run pushes code using the repository's GITHUB_TOKEN, a new workflow will not run even when the repository contains a workflow configured to run when push events occur.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eGitHub Appで組織ごとにaccess tokenを発行すると良さそうな雰囲気があるので、これが使えるか試してみたい。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-26T21:32:24Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1139080702","id":1139080702,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D5P3-","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139080702/reactions"},"updated_at":"2022-05-26T21:32:24Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139080702","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"rubocop 1.30で、auto-correctがautocorrectに統一されたらしい。これにより、色々なものが壊れるようになった。驚いたのが、auto-correctの方を正規形とするのかと思いきや、autocorrectの方を正規形とするみたいだ。automobileみたいなものかね。\r\n\r\n- [[Fix #10095] Change \"auto-correct\" to \"autocorrect\" by chris-hewitt · Pull Request #10547 · rubocop/rubocop](https://github.com/rubocop/rubocop/pull/10547)","bodyHTML":"\u003cp\u003erubocop 1.30で、auto-correctがautocorrectに統一されたらしい。これにより、色々なものが壊れるようになった。驚いたのが、auto-correctの方を正規形とするのかと思いきや、autocorrectの方を正規形とするみたいだ。automobileみたいなものかね。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/rubocop/rubocop/pull/10547\"\u003e[Fix #10095] Change \"auto-correct\" to \"autocorrect\" by chris-hewitt · Pull Request #10547 · rubocop/rubocop\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","author_association":"OWNER","created_at":"2022-05-26T22:13:44Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1139105289","id":1139105289,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D5V4J","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139105289/reactions"},"updated_at":"2022-05-26T22:13:44Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139105289","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"懸垂マシンの配送状況が気になって調べたところ、昨日の昼時点で関西に居たらしい。","bodyHTML":"\u003cp\u003e懸垂マシンの配送状況が気になって調べたところ、昨日の昼時点で関西に居たらしい。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-26T22:37:06Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1139117587","id":1139117587,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D5Y4T","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139117587/reactions"},"updated_at":"2022-05-26T22:37:06Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139117587","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"1. r7kamura名義でGitHub App Aをつくる\r\n2. r7kamura/x にAをインストールする (実際の操作としては、Aをr7kamuraにインストールするときにxのみを選択)\r\n3. r7kamura/x で https://github.com/tibdex/github-app-token を利用してアクセストークンを発行する\r\n\r\nという実験が成功。","bodyHTML":"\u003col\u003e\n\u003cli\u003er7kamura名義でGitHub App Aをつくる\u003c/li\u003e\n\u003cli\u003er7kamura/x にAをインストールする (実際の操作としては、Aをr7kamuraにインストールするときにxのみを選択)\u003c/li\u003e\n\u003cli\u003er7kamura/x で \u003ca href=\"https://github.com/tibdex/github-app-token\"\u003ehttps://github.com/tibdex/github-app-token\u003c/a\u003e を利用してアクセストークンを発行する\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eという実験が成功。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-26T22:39:46Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1139118977","id":1139118977,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D5ZOB","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139118977/reactions"},"updated_at":"2022-05-26T22:39:46Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139118977","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"rubocop-todo-corrector custom actionで利用するアクセストークンについて、actions/checkoutではデフォルトのもの (github.token) を使い、gh pr createのときだけもしwithで指定されていたらそのアクセストークン、無ければデフォルトのアクセストークンを使う、というように変更すれば良いように思った。\r\n\r\nつまり、アプリで発行するアクセストークンの権限について、\r\n\r\n- pull requestのwrite\r\n- workflowのwrite\r\n\r\nのscopeだけあれば良くて、\r\n\r\n- contentのwrite\r\n\r\nは不要そう?","bodyHTML":"\u003cp\u003erubocop-todo-corrector custom actionで利用するアクセストークンについて、actions/checkoutではデフォルトのもの (github.token) を使い、gh pr createのときだけもしwithで指定されていたらそのアクセストークン、無ければデフォルトのアクセストークンを使う、というように変更すれば良いように思った。\u003c/p\u003e\n\u003cp\u003eつまり、アプリで発行するアクセストークンの権限について、\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003epull requestのwrite\u003c/li\u003e\n\u003cli\u003eworkflowのwrite\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eのscopeだけあれば良くて、\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003econtentのwrite\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eは不要そう?\u003c/p\u003e","author_association":"OWNER","created_at":"2022-05-26T22:45:24Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1139121638","id":1139121638,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D5Z3m","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139121638/reactions"},"updated_at":"2022-05-26T22:45:24Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139121638","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"````yaml\r\n- run: echo \"${{ inputs.access_token || github.token }}\" | gh auth login --with-token\r\n```\r\n\r\nこんな感じ","bodyHTML":"\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e- run: echo \"${{ inputs.access_token || github.token }}\" | gh auth login --with-token\r\n```\r\n\r\nこんな感じ\n\u003c/code\u003e\u003c/pre\u003e","author_association":"OWNER","created_at":"2022-05-26T22:48:18Z","html_url":"https://github.com/r7kamura/diary/issues/21#issuecomment-1139122887","id":1139122887,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/21","node_id":"IC_kwDOHTcevs5D5aLH","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139122887/reactions"},"updated_at":"2022-05-26T22:48:32Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1139122887","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"21"},"buildId":"IITYW_zr77D1tsDE8bxw7","assetPrefix":"/diary","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>