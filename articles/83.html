<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="alternate" type="application/rss+xml" href="/diary/feed.xml"/><title>2022-07-27</title><meta name="next-head-count" content="4"/><link rel="preload" href="/diary/_next/static/css/37d180c70e225314.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/37d180c70e225314.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/diary/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/diary/_next/static/chunks/webpack-744535720990f482.js" defer=""></script><script src="/diary/_next/static/chunks/framework-a87821de553db91d.js" defer=""></script><script src="/diary/_next/static/chunks/main-a03413948affdc5e.js" defer=""></script><script src="/diary/_next/static/chunks/pages/_app-fbd5c9bedc21ded0.js" defer=""></script><script src="/diary/_next/static/chunks/pages/articles/%5BissueNumber%5D-5e4c05bacd6eb90e.js" defer=""></script><script src="/diary/_next/static/MCugAyAJzubzPlhRdFZ5w/_buildManifest.js" defer=""></script><script src="/diary/_next/static/MCugAyAJzubzPlhRdFZ5w/_ssgManifest.js" defer=""></script><script src="/diary/_next/static/MCugAyAJzubzPlhRdFZ5w/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen bg-gray-50 dark:bg-gray-800 dark:text-gray-100"><header class="container mx-auto max-w-2xl px-8 py-12"><nav><p><a class="font-bold text-gray-900 visited:text-gray-900 dark:text-gray-300 dark:visited:text-gray-300" href="/diary">r7kamura/diary</a></p></nav></header><main class="container mx-auto max-w-2xl px-8 py-12 shadow-md bg-white dark:bg-gray-900"><div class="divide-y divide-gray-300 dark:divide-gray-700"><article class="markdown"><header><h1>2022-07-27</h1></header><aside class="block text-[.8rem] text-gray-500 dark:text-gray-400"><p>Posted by <!-- --><a href="https://github.com/r7kamura">r7kamura</a> at <!-- --><a href="https://github.com/r7kamura/diary/issues/83">#83</a>.<!-- --></p></aside><div></div></article><article class="markdown"><div><p>githubのcommand palleteが進化していて、pull requestのtitleやdescriptionを変更するコマンドが増えているのを発見した。UIも個別のページごとに最適化されるようになっていた。ドキュメントページを見に行ったらその説明も追加されているようだった。</p>
<p>descriptionのeditボタンを押すためにchrome extenisonをつくっていたけれど、このコマンドがあればお役御免かもしれない。</p></div></article><article class="markdown"><div><p>.rubocop_todo_corrector_ignore というファイルを置けるように機能追加した。</p></div></article><article class="markdown"><div><p>1Passwordのアプデをしたら大きめにUIが変わって、そしてone-time passwordをcopyするためのショートカットキーが動かないようだった。これは公式フォーラムにサインアップして不具合報告をしておいた。結構使う機能なのでこれが動かないのは苦しい。</p></div></article><article class="markdown"><div><p>Google Homeとルンバの連携を試した。両方のアプリをiPhoneに入れていたので非常に短い手順で完了できた。3タップぐらい。</p>
<p>音声操作は、「N時間後にルンバを起動して」といった相対時間指定での命令ができるのが便利。</p></div></article><article class="markdown"><div><p>rubocop-todo-correctorにinputs.gh_create_arguments的なオプションを追加したい。
かなりghべったりな形式になるが、レビュアーやプロジェクトや追加のラベルの割当などを柔軟にできるようになる。</p></div></article><article class="markdown"><div><p>BUNDLE_ONLYが使えるようになる変更がMergeされた。bundler 2.4.0には入るはず。</p></div></article><article class="markdown"><div><p>Performance/RedundantMatch copのautocorrectに漏れがあったので改善した。</p></div></article><article class="markdown"><div><p>workflow dispatchのAPI周りに不具合がありそうだったのでdiscussionで報告した。</p>
<ul>
<li><a href="https://togithub.com/community/community/discussions/27262">https://togithub.com/community/community/discussions/27262</a></li>
</ul></div></article><article class="markdown"><div><p>RuboCopの内部実装にPull Requestを出すべくコードを読んでいる。</p>
<p>RuboCop::Team#investigate(processed_source) が、ファイルを受け取ってOffensesを返すという実装を担っているから、この辺にRubyExtractorを噛ませられるような変更をできないか検討しているところ。</p></div></article><article class="markdown"><div><p>RuboCop::Runner#do_inspection_loop あたりでやるほうが丸いかもしれない。ここがfileからprocessed_sourceに変換している箇所であるので、ここがfileからprocessed_sourcesに変換するように変わったとしても違和感ない。</p></div></article><article class="markdown"><div><ol>
<li>一通りCopに掛ける</li>
<li>不要な <code>rubocop:disable</code> を検知するために1回掛ける</li>
<li>不要な <code>rubocop:enable</code> を検知するために1回掛ける</li>
</ol>
<p>というのが1つのファイルに対して行われることらしい。この2, 3の再実行処理のために、sourceが再利用されているっぽい。</p>
<p>do_inspection_loopはprocesed_sourceを引数に取るようにして、もうちょい外側でfileからprocessed_sourceに変換するようにすれば上手くいくかも。</p></div></article><article class="markdown"><div><p>繰り返しの単位が、1つのファイルに対して一通りautocorrectを試して、変更が加わればまたファイルを読み込み直してもう一度、という感じなので、ここより外側でprocessed sourceに分解してると読み込み直しができなくて詰まった。もっと内側でやらないとダメかも。</p></div></article></div></main><footer class="container mx-auto max-w-2xl px-8 py-12 text-sm"><nav><ul class="flex flex-row gap-6 justify-center"><li><a class="text-gray-900 visited:text-gray-900 dark:text-gray-300 dark:visited:text-gray-300" href="/diary">Home</a></li><li><a class="text-gray-900 visited:text-gray-900 dark:text-gray-300 dark:visited:text-gray-300" href="/diary/feed.xml">RSS</a></li><li><a class="text-gray-900 visited:text-gray-900 dark:text-gray-300 dark:visited:text-gray-300" href="https://github.com/r7kamura/diary">Code</a></li></ul></nav></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/r7kamura/diary/issues/83/comments","created_at":"2022-07-26T22:38:02Z","events_url":"https://api.github.com/repos/r7kamura/diary/issues/83/events","html_url":"https://github.com/r7kamura/diary/issues/83","id":1318818148,"labels":[],"labels_url":"https://api.github.com/repos/r7kamura/diary/issues/83/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOHTcevs5Om5Fk","number":83,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/83/reactions"},"repository_url":"https://api.github.com/repos/r7kamura/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/r7kamura/diary/issues/83/timeline","title":"2022-07-27","updated_at":"2022-07-26T22:38:02Z","url":"https://api.github.com/repos/r7kamura/diary/issues/83","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},"issueComments":[{"body":"githubのcommand palleteが進化していて、pull requestのtitleやdescriptionを変更するコマンドが増えているのを発見した。UIも個別のページごとに最適化されるようになっていた。ドキュメントページを見に行ったらその説明も追加されているようだった。\r\n\r\ndescriptionのeditボタンを押すためにchrome extenisonをつくっていたけれど、このコマンドがあればお役御免かもしれない。","bodyHTML":"\u003cp\u003egithubのcommand palleteが進化していて、pull requestのtitleやdescriptionを変更するコマンドが増えているのを発見した。UIも個別のページごとに最適化されるようになっていた。ドキュメントページを見に行ったらその説明も追加されているようだった。\u003c/p\u003e\n\u003cp\u003edescriptionのeditボタンを押すためにchrome extenisonをつくっていたけれど、このコマンドがあればお役御免かもしれない。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-26T22:39:52Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196050219","id":1196050219,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HSkcr","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196050219/reactions"},"updated_at":"2022-07-26T22:39:52Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196050219","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":".rubocop_todo_corrector_ignore というファイルを置けるように機能追加した。","bodyHTML":"\u003cp\u003e.rubocop_todo_corrector_ignore というファイルを置けるように機能追加した。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-26T22:41:13Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196051083","id":1196051083,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HSkqL","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196051083/reactions"},"updated_at":"2022-07-26T22:41:13Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196051083","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"1Passwordのアプデをしたら大きめにUIが変わって、そしてone-time passwordをcopyするためのショートカットキーが動かないようだった。これは公式フォーラムにサインアップして不具合報告をしておいた。結構使う機能なのでこれが動かないのは苦しい。","bodyHTML":"\u003cp\u003e1Passwordのアプデをしたら大きめにUIが変わって、そしてone-time passwordをcopyするためのショートカットキーが動かないようだった。これは公式フォーラムにサインアップして不具合報告をしておいた。結構使う機能なのでこれが動かないのは苦しい。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-26T22:42:12Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196051739","id":1196051739,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HSk0b","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196051739/reactions"},"updated_at":"2022-07-26T22:42:12Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196051739","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"Google Homeとルンバの連携を試した。両方のアプリをiPhoneに入れていたので非常に短い手順で完了できた。3タップぐらい。\r\n\r\n音声操作は、「N時間後にルンバを起動して」といった相対時間指定での命令ができるのが便利。","bodyHTML":"\u003cp\u003eGoogle Homeとルンバの連携を試した。両方のアプリをiPhoneに入れていたので非常に短い手順で完了できた。3タップぐらい。\u003c/p\u003e\n\u003cp\u003e音声操作は、「N時間後にルンバを起動して」といった相対時間指定での命令ができるのが便利。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-27T01:08:47Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196158092","id":1196158092,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HS-yM","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196158092/reactions"},"updated_at":"2022-07-27T01:08:47Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196158092","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"rubocop-todo-correctorにinputs.gh_create_arguments的なオプションを追加したい。\r\nかなりghべったりな形式になるが、レビュアーやプロジェクトや追加のラベルの割当などを柔軟にできるようになる。","bodyHTML":"\u003cp\u003erubocop-todo-correctorにinputs.gh_create_arguments的なオプションを追加したい。\r\nかなりghべったりな形式になるが、レビュアーやプロジェクトや追加のラベルの割当などを柔軟にできるようになる。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-27T06:44:01Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196326965","id":1196326965,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HToA1","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196326965/reactions"},"updated_at":"2022-07-27T06:44:01Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196326965","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"BUNDLE_ONLYが使えるようになる変更がMergeされた。bundler 2.4.0には入るはず。","bodyHTML":"\u003cp\u003eBUNDLE_ONLYが使えるようになる変更がMergeされた。bundler 2.4.0には入るはず。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-27T08:31:30Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196422405","id":1196422405,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HT_UF","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196422405/reactions"},"updated_at":"2022-07-27T08:31:30Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196422405","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"Performance/RedundantMatch copのautocorrectに漏れがあったので改善した。","bodyHTML":"\u003cp\u003ePerformance/RedundantMatch copのautocorrectに漏れがあったので改善した。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-27T08:31:51Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196422745","id":1196422745,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HT_ZZ","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196422745/reactions"},"updated_at":"2022-07-27T08:31:51Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196422745","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"workflow dispatchのAPI周りに不具合がありそうだったのでdiscussionで報告した。\r\n\r\n- https://togithub.com/community/community/discussions/27262","bodyHTML":"\u003cp\u003eworkflow dispatchのAPI周りに不具合がありそうだったのでdiscussionで報告した。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://togithub.com/community/community/discussions/27262\"\u003ehttps://togithub.com/community/community/discussions/27262\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","author_association":"OWNER","created_at":"2022-07-27T08:32:23Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196423313","id":1196423313,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HT_iR","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196423313/reactions"},"updated_at":"2022-07-27T08:32:23Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196423313","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"RuboCopの内部実装にPull Requestを出すべくコードを読んでいる。\r\n\r\nRuboCop::Team#investigate(processed_source) が、ファイルを受け取ってOffensesを返すという実装を担っているから、この辺にRubyExtractorを噛ませられるような変更をできないか検討しているところ。","bodyHTML":"\u003cp\u003eRuboCopの内部実装にPull Requestを出すべくコードを読んでいる。\u003c/p\u003e\n\u003cp\u003eRuboCop::Team#investigate(processed_source) が、ファイルを受け取ってOffensesを返すという実装を担っているから、この辺にRubyExtractorを噛ませられるような変更をできないか検討しているところ。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-27T08:49:24Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196441742","id":1196441742,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HUECO","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196441742/reactions"},"updated_at":"2022-07-27T08:49:24Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196441742","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"RuboCop::Runner#do_inspection_loop あたりでやるほうが丸いかもしれない。ここがfileからprocessed_sourceに変換している箇所であるので、ここがfileからprocessed_sourcesに変換するように変わったとしても違和感ない。","bodyHTML":"\u003cp\u003eRuboCop::Runner#do_inspection_loop あたりでやるほうが丸いかもしれない。ここがfileからprocessed_sourceに変換している箇所であるので、ここがfileからprocessed_sourcesに変換するように変わったとしても違和感ない。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-27T09:21:48Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196480993","id":1196480993,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HUNnh","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196480993/reactions"},"updated_at":"2022-07-27T09:21:48Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196480993","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"1. 一通りCopに掛ける\r\n2. 不要な `rubocop:disable` を検知するために1回掛ける\r\n3. 不要な `rubocop:enable` を検知するために1回掛ける\r\n\r\nというのが1つのファイルに対して行われることらしい。この2, 3の再実行処理のために、sourceが再利用されているっぽい。\r\n\r\ndo_inspection_loopはprocesed_sourceを引数に取るようにして、もうちょい外側でfileからprocessed_sourceに変換するようにすれば上手くいくかも。","bodyHTML":"\u003col\u003e\n\u003cli\u003e一通りCopに掛ける\u003c/li\u003e\n\u003cli\u003e不要な \u003ccode\u003erubocop:disable\u003c/code\u003e を検知するために1回掛ける\u003c/li\u003e\n\u003cli\u003e不要な \u003ccode\u003erubocop:enable\u003c/code\u003e を検知するために1回掛ける\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eというのが1つのファイルに対して行われることらしい。この2, 3の再実行処理のために、sourceが再利用されているっぽい。\u003c/p\u003e\n\u003cp\u003edo_inspection_loopはprocesed_sourceを引数に取るようにして、もうちょい外側でfileからprocessed_sourceに変換するようにすれば上手くいくかも。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-27T10:28:08Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196550516","id":1196550516,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HUel0","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196550516/reactions"},"updated_at":"2022-07-27T10:30:00Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196550516","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}},{"body":"繰り返しの単位が、1つのファイルに対して一通りautocorrectを試して、変更が加わればまたファイルを読み込み直してもう一度、という感じなので、ここより外側でprocessed sourceに分解してると読み込み直しができなくて詰まった。もっと内側でやらないとダメかも。","bodyHTML":"\u003cp\u003e繰り返しの単位が、1つのファイルに対して一通りautocorrectを試して、変更が加わればまたファイルを読み込み直してもう一度、という感じなので、ここより外側でprocessed sourceに分解してると読み込み直しができなくて詰まった。もっと内側でやらないとダメかも。\u003c/p\u003e","author_association":"OWNER","created_at":"2022-07-27T11:00:33Z","html_url":"https://github.com/r7kamura/diary/issues/83#issuecomment-1196581184","id":1196581184,"issue_url":"https://api.github.com/repos/r7kamura/diary/issues/83","node_id":"IC_kwDOHTcevs5HUmFA","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196581184/reactions"},"updated_at":"2022-07-27T11:00:33Z","url":"https://api.github.com/repos/r7kamura/diary/issues/comments/1196581184","user":{"avatar_url":"https://avatars.githubusercontent.com/u/111689?v=4","events_url":"https://api.github.com/users/r7kamura/events{/privacy}","followers_url":"https://api.github.com/users/r7kamura/followers","following_url":"https://api.github.com/users/r7kamura/following{/other_user}","gists_url":"https://api.github.com/users/r7kamura/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/r7kamura","id":111689,"login":"r7kamura","node_id":"MDQ6VXNlcjExMTY4OQ==","organizations_url":"https://api.github.com/users/r7kamura/orgs","received_events_url":"https://api.github.com/users/r7kamura/received_events","repos_url":"https://api.github.com/users/r7kamura/repos","site_admin":false,"starred_url":"https://api.github.com/users/r7kamura/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r7kamura/subscriptions","type":"User","url":"https://api.github.com/users/r7kamura"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"83"},"buildId":"MCugAyAJzubzPlhRdFZ5w","assetPrefix":"/diary","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>